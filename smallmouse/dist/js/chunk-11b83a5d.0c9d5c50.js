(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11b83a5d"],{2017:function(t,e,n){"use strict";var o=n("3b76"),s=n.n(o);s.a},"3b76":function(t,e,n){},"9ed6":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("van-popup",{style:{height:"100%"},attrs:{position:"bottom",duration:.5},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("van-nav-bar",{attrs:{title:"登录","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickBack}}),n("div",{staticClass:"main",attrs:{verify:t.btnuseFn()}},[n("van-cell-group",[n("van-field",{attrs:{required:"",clearable:"",label:"手机号","right-icon":t.phonIcon,placeholder:"请输入手机号","error-message":t.phoneState},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),n("van-field",{attrs:{type:"password",label:"密码",placeholder:"请输入密码","right-icon":t.passwordIcon,"error-message":t.passwordState,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("van-button",{style:{background:t.btnColor,borderColor:t.btnColor},attrs:{type:"primary",size:"normal",block:!0,disabled:t.btnflag},on:{click:t.login}},[t._v("登录")]),n("div",{staticClass:"logintog"},[n("router-link",{attrs:{to:"/register",tag:"span"}},[t._v("快速注册")]),n("router-link",{attrs:{to:"/findpwd",tag:"span"}},[t._v("忘记密码?")])],1)],1)],1)],1)],1)},s=[],a=(n("c194"),n("7744")),r=(n("0653"),n("34e9")),i=(n("e7e5"),n("d399")),l=(n("e17f"),n("2241")),c=(n("8a58"),n("e41f")),u=(n("c3a6"),n("ad06")),h=(n("66b9"),n("b650")),p=(n("be7f"),n("565f")),d=(n("5246"),n("6b41")),f=n("2b0e");f["a"].use(d["a"]),f["a"].use(p["a"]),f["a"].use(h["a"]),f["a"].use(u["a"]),f["a"].use(c["a"]),f["a"].use(l["a"]),f["a"].use(i["a"]),f["a"].use(a["a"]).use(r["a"]);var b={data:function(){return{phone:"",password:"",show:!1,sms:"",code:"a*a*a*",btnflag:!0,btnColor:"#ccc"}},beforeRouteEnter:function(t,e,n){n(function(t){t.show=!0})},methods:{onClickBack:function(){this.$router.back()},login:function(){var t=this;/^1[3456789]\d{9}$/.test(this.phone)&&this.password.length>5&&fetch("http://localhost:8000/login",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"username="+this.phone+"&password="+this.password}).then(function(t){return t.json()}).then(function(e){1===e?(t.$router.back(),t.$store.commit("changeLoginSatate",{result:"ok"}),t.$store.commit("addUserInfo",{result:t.phone})):0===e?l["a"].confirm({title:"提示",message:"改用户还未注册是否注册"}).then(function(){t.$router.push("/register")}).catch(function(){}):2===e&&Object(i["a"])("密码错误")})},btnuseFn:function(){/^1[3456789]\d{9}$/.test(this.phone)&&this.password.length>5?(this.btnflag=!1,this.btnColor="#07c160",this.data1=""):(this.btnflag=!0,this.btnColor="#ccc")}},computed:{phoneState:function(){return""===this.phone?"":/^1[3456789]\d{9}$/.test(this.phone)?"":"手机号格式错误"},phonIcon:function(){return""===this.phone?"":/^1[3456789]\d{9}$/.test(this.phone)?"passed":""},passwordIcon:function(){return""===this.password?null:this.password.length>5?"passed":void 0},passwordState:function(){return""===this.password?null:this.password.length<5?"密码长度不能小于5":null}}},w=b,g=(n("2017"),n("2877")),v=Object(g["a"])(w,o,s,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-11b83a5d.0c9d5c50.js.map