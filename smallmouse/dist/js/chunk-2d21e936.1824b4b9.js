(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e936"],{d5c2:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("van-popup",{style:{height:"100%"},attrs:{position:"bottom",duration:.5},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("van-nav-bar",{attrs:{title:"注册","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickBack}}),n("div",{staticClass:"main",attrs:{verify:t.btnuseFn()}},[n("van-cell-group",[n("van-field",{attrs:{required:"",clearable:"",label:"手机号","right-icon":t.phonIcon,placeholder:"请输入手机号","error-message":t.phoneState},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),n("van-field",{attrs:{type:"password",label:"密码",placeholder:"请输入密码","right-icon":t.passwordIcon,"error-message":t.passwordState,required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("van-field",{attrs:{center:"",clearable:"",label:"短信验证码",placeholder:"请输入验证码"},model:{value:t.sms,callback:function(e){t.sms=e},expression:"sms"}},[n("van-button",{style:{background:t.btnColor,borderColor:t.btnColor},attrs:{slot:"button",size:"small",type:"primary",disabled:t.btnflag},on:{click:t.sendCode},slot:"button"},[t._v("发送验证码")])],1),n("van-button",{attrs:{type:"primary",size:"normal",block:!0},on:{click:t.register}},[t._v("注册")])],1)],1)],1)],1)},s=[],a=(n("c194"),n("7744")),r=(n("0653"),n("34e9")),c=(n("e7e5"),n("d399")),i=(n("e17f"),n("2241")),l=(n("8a58"),n("e41f")),u=(n("c3a6"),n("ad06")),h=(n("66b9"),n("b650")),d=(n("be7f"),n("565f")),p=(n("5246"),n("6b41")),f=n("2b0e");f["a"].use(p["a"]),f["a"].use(d["a"]),f["a"].use(h["a"]),f["a"].use(u["a"]),f["a"].use(l["a"]),f["a"].use(i["a"]),f["a"].use(c["a"]),f["a"].use(a["a"]).use(r["a"]);var b={data:function(){return{phone:"",password:"",show:!1,sms:"",code:"a*a*a*",btnflag:!0,btnColor:"#ccc"}},beforeRouteEnter:function(t,e,n){n(function(t){t.show=!0})},methods:{onClickBack:function(){this.$router.back()},sendCode:function(){var t=this;fetch("https://www.daxunxun.com/users/sendCode?tel="+this.phone).then(function(t){return t.json()}).then(function(e){console.log(e),0===e?Object(c["a"])("该手机号注册失败"):1===e?fetch("http://106.14.213.84:8000/verify?username="+t.phone).then(function(t){return t.json()}).then(function(e){0===e?Object(c["a"])("验证码为"+t.code):Object(c["a"])("用户已存在")}):(Object(c["a"])("验证码发送成功"),t.code=e.code)})},register:function(){var t=this;this.code!==this.sms?Object(c["a"])("验证码不对哦"):/^1[3456789]\d{9}$/.test(this.phone)&&this.password.length>5&&fetch("http://106.14.213.84:8000/register",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"username="+this.phone+"&password="+this.password}).then(function(t){return t.json()}).then(function(e){console.log(e),0===e?Object(c["a"])("已被注册"):1===e&&i["a"].confirm({title:"提示",message:"注册成功，是否直接登录"}).then(function(){t.$router.push("/login")}).catch(function(){})})},btnuseFn:function(){/^1[3456789]\d{9}$/.test(this.phone)&&this.password.length>5?(this.btnflag=!1,this.btnColor="#07c160",this.data1=""):(this.btnflag=!0,this.btnColor="#ccc")}},computed:{phoneState:function(){return""===this.phone?"":/^1[3456789]\d{9}$/.test(this.phone)?"":"手机号格式错误"},phonIcon:function(){return""===this.phone?"":/^1[3456789]\d{9}$/.test(this.phone)?"passed":""},passwordIcon:function(){return""===this.password?null:this.password.length>5?"passed":void 0},passwordState:function(){return""===this.password?null:this.password.length<5?"密码长度不能小于5":null}}},w=b,m=n("2877"),v=Object(m["a"])(w,o,s,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d21e936.1824b4b9.js.map