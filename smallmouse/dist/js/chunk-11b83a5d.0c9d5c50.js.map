{"version":3,"sources":["webpack:///./src/views/login/index.vue?1607","webpack:///./src/views/login/index.vue?1308","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?e0c5","webpack:///./src/views/login/index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","height","attrs","position","duration","model","value","callback","$$v","show","expression","title","left-text","left-arrow","on","click-left","onClickBack","verify","btnuseFn","required","clearable","label","right-icon","phonIcon","placeholder","error-message","phoneState","phone","type","passwordIcon","passwordState","password","background","btnColor","borderColor","size","block","disabled","btnflag","click","login","_v","to","tag","staticRenderFns","vue_runtime_esm","use","nav_bar","field","es_button","icon","popup","dialog","toast","cell","cell_group","loginvue_type_script_lang_js_","data","sms","code","beforeRouteEnter","from","next","vm","methods","$router","back","_this","test","length","fetch","method","headers","Content-Type","body","then","res","json","$store","commit","result","confirm","message","push","catch","Object","data1","computed","views_loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-11b83a5d.0c9d5c50.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('van-popup',{style:({ height: '100%' }),attrs:{\"position\":\"bottom\",\"duration\":0.5},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-nav-bar',{attrs:{\"title\":\"登录\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickBack}}),_c('div',{staticClass:\"main\",attrs:{\"verify\":_vm.btnuseFn()}},[_c('van-cell-group',[_c('van-field',{attrs:{\"required\":\"\",\"clearable\":\"\",\"label\":\"手机号\",\"right-icon\":_vm.phonIcon,\"placeholder\":\"请输入手机号\",\"error-message\":_vm.phoneState},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"right-icon\":_vm.passwordIcon,\"error-message\":_vm.passwordState,\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-button',{style:({background: _vm.btnColor,borderColor:_vm.btnColor}),attrs:{\"type\":\"primary\",\"size\":\"normal\",\"block\":true,\"disabled\":_vm.btnflag},on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_c('div',{staticClass:\"logintog\"},[_c('router-link',{attrs:{\"to\":\"/register\",\"tag\":\"span\"}},[_vm._v(\"快速注册\")]),_c('router-link',{attrs:{\"to\":\"/findpwd\",\"tag\":\"span\"}},[_vm._v(\"忘记密码?\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <van-popup v-model=\"show\" position=\"bottom\" :style=\"{ height: '100%' }\" :duration=\"0.5\">\r\n      <van-nav-bar title=\"登录\" left-text=\"返回\" left-arrow @click-left=\"onClickBack\" />\r\n      <div class=\"main\" :verify=\"btnuseFn()\">\r\n        <van-cell-group>\r\n          <van-field\r\n            v-model=\"phone\"\r\n            required\r\n            clearable\r\n            label=\"手机号\"\r\n            :right-icon=\"phonIcon\"\r\n            placeholder=\"请输入手机号\"\r\n            :error-message=\"phoneState\"\r\n          />\r\n          <van-field\r\n            v-model=\"password\"\r\n            type=\"password\"\r\n            label=\"密码\"\r\n            placeholder=\"请输入密码\"\r\n            :right-icon=\"passwordIcon\"\r\n            :error-message=\"passwordState\"\r\n            required\r\n          />\r\n          <!-- <van-button type=\"primary\" size=\"normal\" :block=\"true\">下一步</van-button> -->\r\n          <van-button\r\n            type=\"primary\"\r\n            size=\"normal\"\r\n            :block=\"true\"\r\n            @click=\"login\"\r\n            :disabled=\"btnflag\"\r\n            :style=\"{background: btnColor,borderColor:btnColor}\"\r\n          >登录</van-button>\r\n          <div class=\"logintog\">\r\n            <router-link to=\"/register\" tag=\"span\">快速注册</router-link>\r\n            <router-link to=\"/findpwd\" tag=\"span\">忘记密码?</router-link>\r\n          </div>\r\n        </van-cell-group>\r\n      </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { NavBar, Button, Field, Popup, Cell, CellGroup } from 'vant'\r\nimport { Icon } from 'vant'\r\nimport { Dialog } from 'vant'\r\nimport { Toast } from 'vant'\r\nVue.use(NavBar) // 头部nav\r\nVue.use(Field) // input用户密码库\r\nVue.use(Button) // 按钮\r\nVue.use(Icon) // 提示icon\r\nVue.use(Popup) //弹出\r\nVue.use(Dialog)\r\nVue.use(Toast)\r\nVue.use(Cell).use(CellGroup)\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      phone: '',\r\n      password: '',\r\n      show: false,\r\n      sms: '',\r\n      code: 'a*a*a*',\r\n      btnflag: true,\r\n      btnColor: '#ccc'\r\n      // min: 0.5\r\n    }\r\n  },\r\n  beforeRouteEnter (to, from, next) {\r\n    next(vm => {\r\n      vm.show = true\r\n    })\r\n  },\r\n  methods: {\r\n    onClickBack () { // 事件返回\r\n      this.$router.back()\r\n    },\r\n    login () {\r\n      if (/^1[3456789]\\d{9}$/.test(this.phone) && this.password.length > 5) {\r\n        fetch(\"http://localhost:8000/login\", {\r\n          method: 'post',\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          body: \"username=\" + this.phone + \"&password=\" + this.password\r\n        }).then(res => res.json()).then(data => {\r\n          // console.log(data)\r\n          if (data === 1) {\r\n            this.$router.back()\r\n            // localStorage.setItem('isLogin', 'ok')\r\n            // this.$store.commit('changeLoginSatate', 'ok') // 1\r\n            this.$store.commit('changeLoginSatate', { result: 'ok' })// 提交用户账号到状态管理器\r\n            this.$store.commit('addUserInfo', { result: this.phone })// 登录成功提交用户账号到状态管理器\r\n            // this.$store.commit({ // 3\r\n            //   type:'changeLoginSatate', \r\n            //   result : 'ok'})\r\n            // this.$store.commit({ // 4\r\n            //   type: CHANGE_LOGIN_STATE,\r\n            //   result: 'ok'            })\r\n          } else if (data === 0) {\r\n            Dialog.confirm({\r\n              title: '提示',\r\n              message: '改用户还未注册是否注册'\r\n            }).then(() => {\r\n              // on confirm\r\n              this.$router.push('/register')\r\n            }).catch(() => {\r\n              // on cancel\r\n            })\r\n          } else if (data === 2) {\r\n            Toast('密码错误')\r\n          }\r\n        })\r\n      }\r\n    },\r\n    btnuseFn () { // 如果输入的手机号符合正则，发送验证码的框框才会可以点击\r\n      if (/^1[3456789]\\d{9}$/.test(this.phone) && this.password.length > 5) {\r\n        this.btnflag = false\r\n        this.btnColor = '#07c160'\r\n        this.data1 = ''\r\n      } else {\r\n        this.btnflag = true\r\n        this.btnColor = '#ccc'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    phoneState () {\r\n      if (this.phone === \"\") {\r\n        return \"\"\r\n      } else if (!(/^1[3456789]\\d{9}$/.test(this.phone))) {\r\n        return \"手机号格式错误\"\r\n      } else {\r\n        return \"\"\r\n      }\r\n    },\r\n    phonIcon () {\r\n      if (this.phone === \"\") {\r\n        return \"\"\r\n      } else if (/^1[3456789]\\d{9}$/.test(this.phone)) {\r\n        return \"passed\"\r\n      } else {\r\n        return \"\"\r\n      }\r\n    },\r\n    passwordIcon () {\r\n      if (this.password === '') {\r\n        return null\r\n      }\r\n      if (this.password.length > 5) {\r\n        return 'passed'\r\n      }\r\n    },\r\n    passwordState () {\r\n      if (this.password === '') {\r\n        return null\r\n      }\r\n      if (this.password.length < 5) {\r\n        return '密码长度不能小于5'\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.logintog {\r\n  height: 0.3rem;\r\n  width: 100%;\r\n  // background-color: red;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0 0.07rem;\r\n  align-items: center;\r\n  span {\r\n    font-size: 0.12rem;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=12512806&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}