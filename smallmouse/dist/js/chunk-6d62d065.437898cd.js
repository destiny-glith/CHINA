(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d62d065"],{"17cd":function(t,i,s){},3741:function(t,i,s){},"5cb5":function(t,i,s){},7252:function(t,i,s){"use strict";var e=s("3741"),n=s.n(e);n.a},7364:function(t,i,s){var e=s("ddf7").f,n=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in n||s("dad2")&&e(n,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},"76c1":function(t,i,s){"use strict";var e=s("e2eb"),n=s("4a48"),a=s("6e4b"),o=s("1264"),r=Object(e["a"])("list"),l=r[0],c=r[1],u=r[2];i["a"]=l({mixins:[Object(a["a"])(function(t){this.scroller||(this.scroller=Object(o["c"])(this.$el)),t(this.scroller,"scroll",this.check)})],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},mounted:function(){this.immediateCheck&&this.$nextTick(this.check)},watch:{loading:function(){this.$nextTick(this.check)},finished:function(){this.$nextTick(this.check)}},methods:{check:function(){if(!(this.loading||this.finished||this.error)){var t,i=this.$el,s=this.scroller,e=this.offset,n=this.direction;t=s.getBoundingClientRect?s.getBoundingClientRect():{top:0,bottom:s.innerHeight};var a=t.bottom-t.top;if(!a||"none"===window.getComputedStyle(i).display||null===i.offsetParent)return!1;var o=!1,r=this.$refs.placeholder.getBoundingClientRect();o="up"===n?r.top-t.top<=e:r.bottom-t.bottom<=e,o&&(this.$emit("input",!0),this.$emit("load"))}},clickErrorText:function(){this.$emit("update:error",!1),this.$nextTick(this.check)}},render:function(t){var i=t("div",{ref:"placeholder",class:c("placeholder")});return t("div",{class:c(),attrs:{role:"feed","aria-busy":this.loading}},["down"===this.direction?this.slots():i,this.loading&&t("div",{class:c("loading"),key:"loading"},[this.slots("loading")||t(n["a"],{attrs:{size:"16"}},[this.loadingText||u("loading")])]),this.finished&&this.finishedText&&t("div",{class:c("finished-text")},[this.finishedText]),this.error&&this.errorText&&t("div",{on:{click:this.clickErrorText},class:c("error-text")},[this.errorText]),"up"===this.direction?this.slots():i])}})},"7abe":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"container"},[s("div",{staticClass:"main"},[s("van-pull-refresh",{attrs:{"loading-text":t.suctxt},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}},[s("Banner"),s("Prolist"),s("div",{staticClass:"main_index"},[s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[s("ul",t._l(t.lists,function(i,e){return s("li",{key:e},[s("div",{staticClass:"itemimg"},[s("div",{staticClass:"bigimg"},[s("img",{attrs:{src:i["thumbUrl"],alt:""}})]),s("div",{staticClass:"smallimg"},[s("img",{attrs:{src:"",alt:""}})])]),s("p",{staticClass:"itemtit"},[t._v(t._s(i["alias"]))]),s("p",{staticClass:"itemliang"},[t._v(t._s(i["productName"]))]),s("p",{staticClass:"itemscall"},[s("span",{staticClass:"redfont"},[t._v(t._s(i["matchPrice"]))]),s("span",{staticClass:"oldfont"},[t._v(t._s(i["marketPrice"]))]),s("span",{staticClass:"iconfont icon-tubiaolunkuo-",attrs:{id:"icon"},on:{click:function(s){return t.sendState(i["thumbUrl"],i["productName"],i["matchPrice"],i["productId"],s,t.flag=!0)}}})])])}),0)])],1)],1)],1)])},n=[];s("7364");function a(t){if(Array.isArray(t)){for(var i=0,s=new Array(t.length);i<t.length;i++)s[i]=t[i];return s}}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){return a(t)||o(t)||r()}s("1367");var c=s("2d9c"),u=(s("833e"),s("76c1")),h=(s("84a1"),s("ddb3")),d=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.bannerlist,function(t,i){return s("van-swipe-item",{key:i},[s("img",{attrs:{src:t,alt:""}})])}),1)},f=[],g=(s("2fb2"),s("a111")),m=(s("d73b"),s("4f1e")),p=s("6e6d");s("49a5");p["a"].use(g["a"]).use(m["a"]);var v={data:function(){return{bannerlist:[]}},mounted:function(){var t=this;fetch("http://106.14.213.84:8000/getindexss").then(function(t){return t.json()}).then(function(i){for(var s=i[0].data["carousel"],e=0;e<s.length;e++)t.bannerlist.push(s[e].pic)})}},b=v,_=(s("82e0"),s("6691")),x=Object(_["a"])(b,d,f,!1,null,null,null),S=x.exports,k=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"main_list"}},[s("van-tabs",{attrs:{sticky:"",color:"#77bc1f","title-active-color":"#77bc1f",swipeable:""},on:{click:t.onClick}},[s("van-tab",{attrs:{title:t.titlist[0]}},[s("div",{staticClass:"main_one",on:{click:function(i){return t.getArticleinfo("articleinfo")}}},[s("img",{attrs:{src:t.imgone,alt:""}})]),s("div",{staticClass:"main_list"},[s("ul",t._l(t.huo,function(t,i){return s("li",{key:i},[s("img",{attrs:{src:t,alt:""}})])}),0)]),s("div",{staticClass:"main_two"},[s("img",{attrs:{src:t.newuser,alt:""}})]),s("div",{staticClass:"main_huo"},[s("ul",t._l(t.sanlis,function(t,i){return s("li",{key:i},[s("img",{attrs:{src:t,alt:""}})])}),0)]),s("div",{staticClass:"main_floor"}),s("div",{staticClass:"main_banner"})]),t._l(t.shaixuan,function(i,e){return s("van-tab",{key:e,attrs:{title:i}},[s("Prochild",{attrs:{tip:t.msg}})],1)})],2)],1)},C=[],y=(s("e4cb"),s("3261")),T=(s("46a1"),s("75c1")),j=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("div",{staticClass:"index_banner"},[s("img",{attrs:{src:t.index_banner,alt:""}})]),t._l(t.namelists,function(i,e){return s("div",{key:e},[s("div",{staticClass:"main_floor"},[s("div",{staticClass:"hezi"}),s("p",[t._v(t._s(i["title"]))])]),s("div",{staticClass:"main_index"},[s("ul",t._l(i["products"],function(i,e){return s("li",{key:e,on:{click:function(s){return t.goDetail(i["productId"])}}},[s("div",{staticClass:"itemimg"},[s("div",{staticClass:"bigimg"},[s("img",{attrs:{src:i["pic"],alt:""}})]),s("div",{staticClass:"smallimg"},[s("img",{attrs:{src:t.samllimg,alt:""}})])]),s("p",{staticClass:"itemtit"},[t._v(t._s(i["alias"]))]),s("p",{staticClass:"itemliang"},[t._v(t._s(i["name"]))]),s("p",{staticClass:"itemscall"},[s("span",{staticClass:"redfont"},[t._v(t._s(i["salesPrice"]))]),s("span",{staticClass:"oldfont"},[t._v(t._s(i["marketPrice"]))]),s("span",{staticClass:"iconfont icon-tubiaolunkuo-",attrs:{id:"icon"},on:{click:function(s){return t.sendState(i["pic"],i["name"],i["salesPrice"],i["productId"],s,t.flag=!0)}}})])])}),0)])])})],2)},$=[];p["a"].use(c["a"]);var w={data:function(){return{index_banner:"",main_floor:"",bao1:[],bigimg:"",samllimg:"",itemtit:"",itemliang:"",itemsacll:"",namelists:[],obj:{},lis:[],userinfo:this.$store.state.userInfo}},props:{tip:{type:String}},methods:{goDetail:function(t){this.$router.push({name:"detail",params:{id:t}})},sendState:function(t,i,s,e,n,a){if(event.stopPropagation(),"ok"===this.$store.state.loginState){var o={pic:t,name:i,sale:s,proid:e,flag:a};if(localStorage.getItem("cars")){var r=JSON.parse(localStorage.getItem("cars"));void 0!==r[this.userinfo]&&(this.lis=r[this.userinfo])}else void 0===this.obj[this.userinfo]&&(this.obj[this.userinfo]=this.lis);if(localStorage.getItem("cars")){var l=JSON.parse(localStorage.getItem("cars"));this.lis.push(o),l[this.userinfo]=this.lis;var u=JSON.stringify(l);localStorage.setItem("cars",u),console.log(this.lis.length)}else{this.lis.push(o),this.obj[this.userinfo]=this.lis;var h=JSON.stringify(this.obj);localStorage.setItem("cars",h)}Object(c["a"])("成功加入购物车")}else this.$router.push("/login")}},mounted:function(){var t=this;fetch("http://106.14.213.84:8000/getkind").then(function(t){return t.json()}).then(function(i){if(t.samllimg=i[0]["data"]["floors"][0]["products"][0]["tags"][0]["pic"],"肉脯/海鲜"===t.tip){t.index_banner=i[0]["data"]["banner"]["pic"],t.main_floor=i[0]["data"]["floors"][0]["title"];for(var s=i[0]["data"]["floors"][0]["products"],e=0;e<s.length;e++)t.bao1.push(s[e]);for(var n=i[0]["data"]["floors"],a=0;a<n.length;a++)t.namelists.push(n[a])}if("坚果/果干"===t.tip){t.index_banner=i[1]["data"],t.index_banner=i[1]["data"]["banner"]["pic"],t.main_floor=i[1]["data"]["floors"][0]["title"];for(var o=i[1]["data"]["floors"][0]["products"],r=0;r<o.length;r++)t.bao1.push(o[r]);for(var l=i[1]["data"]["floors"],c=0;c<l.length;c++)t.namelists.push(l[c])}if("量贩组合"===t.tip){t.index_banner=i[2]["data"],t.index_banner=i[2]["data"]["banner"]["pic"],t.main_floor=i[2]["data"]["floors"][0]["title"];for(var u=i[2]["data"]["floors"][0]["products"],h=0;h<u.length;h++)t.bao1.push(u[h]);for(var d=i[2]["data"]["floors"],f=0;f<d.length;f++)t.namelists.push(d[f])}if("休闲零食"===t.tip){t.index_banner=i[3]["data"],t.index_banner=i[3]["data"]["banner"]["pic"],t.main_floor=i[3]["data"]["floors"][0]["title"];for(var g=i[3]["data"]["floors"][0]["products"],m=0;m<g.length;m++)t.bao1.push(g[m]);for(var p=i[3]["data"]["floors"],v=0;v<p.length;v++)t.namelists.push(p[v])}if("潮礼"===t.tip){t.index_banner=i[4]["data"],console.log(t.index_banner),t.index_banner=i[4]["data"]["banner"]["pic"],t.main_floor=i[4]["data"]["floors"][0]["title"];for(var b=i[4]["data"]["floors"][0]["products"],_=0;_<b.length;_++)t.bao1.push(b[_]);for(var x=i[4]["data"]["floors"],S=0;S<x.length;S++)t.namelists.push(x[S])}if("茶饮"===t.tip){t.index_banner=i[5]["data"],console.log(t.index_banner),t.index_banner=i[5]["data"]["banner"]["pic"],t.main_floor=i[5]["data"]["floors"][0]["title"];for(var k=i[5]["data"]["floors"][0]["products"],C=0;C<k.length;C++)t.bao1.push(k[C]);for(var y=i[5]["data"]["floors"],T=0;T<y.length;T++)t.namelists.push(y[T])}if("周边"===t.tip){t.index_banner=i[4]["data"],t.index_banner=i[6]["data"]["banner"]["pic"],t.main_floor=i[6]["data"]["floors"][0]["title"];for(var j=i[6]["data"]["floors"][0]["products"],$=0;$<j.length;$++)t.bao1.push(j[$]);for(var w=i[6]["data"]["floors"],O=0;O<w.length;O++)t.namelists.push(w[O])}})}},O=w,I=Object(_["a"])(O,j,$,!1,null,null,null),N=I.exports;p["a"].use(y["a"]).use(T["a"]);var E={data:function(){return{titlist:[],imgone:"",title:"",huo:[],newuser:"",sanlis:[],shaixuan:[],msg:""}},mounted:function(){var t=this;fetch("http://106.14.213.84:8000/getindexss").then(function(t){return t.json()}).then(function(i){var s=i[0].data["recommendChannel"];t.imgone=s["topAdvs"][0]["pic"];for(var e=i[0].data["channels"],n=0;n<e.length;n++)t.titlist.push(e[n].name);t.shaixuan=t.titlist.filter(function(t,i,s){return 0!==t.indexOf("推荐")});for(var a=s["middleAdvs"],o=0;o<a.length;o++)t.huo.push(a[o]["pic"]);t.newuser=s["bottomAdvs"][0]["pic"];for(var r=s["recommendAdvs"],l=0;l<r.length;l++)t.sanlis.push(r[l]["pic"])})},methods:{onClick:function(t,i){this.msg=i},getArticleinfo:function(t){this.$router.push("/home/"+t)}},components:{Prochild:N}},P=E,A=(s("c4f2"),Object(_["a"])(P,k,C,!1,null,null,null)),B=A.exports;p["a"].use(h["a"]),p["a"].use(u["a"]),p["a"].use(c["a"]);var L={components:{Banner:S,Prolist:B},data:function(){return{lists:"",loading:!1,finished:!1,pageNum:0,isLoading:!1,suctxt:"稍等一会会",obj:{},lis:[],userinfo:this.$store.state.userInfo}},methods:{sendState:function(t,i,s,e,n,a){if(event.stopPropagation(),"ok"===this.$store.state.loginState){var o={pic:t,name:i,sale:s,proid:e,flag:a};if(localStorage.getItem("cars")){var r=JSON.parse(localStorage.getItem("cars"));void 0!==r[this.userinfo]&&(this.lis=r[this.userinfo])}else void 0===this.obj[this.userinfo]&&(this.obj[this.userinfo]=this.lis);if(localStorage.getItem("cars")){var l=JSON.parse(localStorage.getItem("cars"));this.lis.push(o),l[this.userinfo]=this.lis;var c=JSON.stringify(l);localStorage.setItem("cars",c)}else{this.lis.push(o),this.obj[this.userinfo]=this.lis;var u=JSON.stringify(this.obj);localStorage.setItem("cars",u)}}else this.$router.push("/login")},onLoad:function(){var t=this;this.loading=!0,this.pageNum++,fetch("http://106.14.213.84:8000/cplist?count=5&pageNum="+this.pageNum).then(function(t){return t.json()}).then(function(i){t.loading=!1,0===i.length?(console.log("没有数据了"),t.finished=!0):t.lists=[].concat(l(t.lists),l(i))})},onRefresh:function(){var t=this;this.isLoading=!0,this.pageNum=0,fetch("http://106.14.213.84:8000/cplist?count=5&pageNum=1").then(function(t){return t.json()}).then(function(i){t.isLoading=!1,t.lists=i,t.finished=!1})}},mounted:function(){var t=document.querySelector(".main");t.addEventListener("scroll",this.scrollFn)},beforeRouteLeave:function(t,i,s){var e=document.querySelector(".main");e.removeEventListener("scroll",this.scrollFn),localStorage.setItem("position",e.scrollTop),s()},watch:{$route:function(t,i){if("home"===t.name){var s=document.querySelector(".main");s.scrollTop=localStorage.getItem("position")}}}},J=L,D=(s("7252"),Object(_["a"])(J,e,n,!1,null,null,null));i["default"]=D.exports},"82e0":function(t,i,s){"use strict";var e=s("17cd"),n=s.n(e);n.a},"833e":function(t,i,s){"use strict";s("29ee"),s("95c3")},"84a1":function(t,i,s){"use strict";s("29ee"),s("5cb5")},"95c3":function(t,i,s){},c4f2:function(t,i,s){"use strict";var e=s("dd7e"),n=s.n(e);n.a},dd7e:function(t,i,s){},ddb3:function(t,i,s){"use strict";var e=s("e2eb"),n=s("938c"),a=s("fa09"),o=s("1264"),r=s("4a48"),l=Object(e["a"])("pull-refresh"),c=l[0],u=l[1],h=l[2],d=["pulling","loosing","success"];i["a"]=c({mixins:[a["a"]],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,value:{type:Boolean,required:!0},successDuration:{type:Number,default:500},animationDuration:{type:Number,default:300},headHeight:{type:Number,default:50}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{untouchable:function(){return"loading"===this.status||"success"===this.status||this.disabled}},watch:{value:function(t){var i=this;this.duration=this.animationDuration,!t&&this.successText?(this.status="success",setTimeout(function(){i.setStatus(0)},this.successDuration)):this.setStatus(t?this.headHeight:0,t)}},mounted:function(){this.scrollEl=Object(o["c"])(this.$el)},methods:{onTouchStart:function(t){!this.untouchable&&this.getCeiling()&&(this.duration=0,this.touchStart(t))},onTouchMove:function(t){this.untouchable||(this.touchMove(t),!this.ceiling&&this.getCeiling()&&(this.duration=0,this.startY=t.touches[0].clientY,this.deltaY=0),this.ceiling&&this.deltaY>=0&&"vertical"===this.direction&&(this.setStatus(this.ease(this.deltaY)),Object(n["c"])(t)))},onTouchEnd:function(){var t=this;!this.untouchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(this.headHeight,!0),this.$emit("input",!0),this.$nextTick(function(){t.$emit("refresh")})):this.setStatus(0))},getCeiling:function(){return this.ceiling=0===Object(o["d"])(this.scrollEl),this.ceiling},ease:function(t){var i=this.headHeight;return Math.round(t<i?t:t<2*i?i+(t-i)/2:1.5*i+(t-2*i)/4)},setStatus:function(t,i){this.distance=t;var s=i?"loading":0===t?"normal":t<this.headHeight?"pulling":"loosing";s!==this.status&&(this.status=s)}},render:function(t){var i=this.status,s=this.distance,e=this[i+"Text"]||h(i),n={transition:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""},a=this.slots(i,{distance:s})||[-1!==d.indexOf(i)&&t("div",{class:u("text")},[e]),"loading"===i&&t(r["a"],{attrs:{size:"16"}},[e])];return t("div",{class:u()},[t("div",{class:u("track"),style:n,on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[t("div",{class:u("head")},[a]),this.slots()])])}})}}]);
//# sourceMappingURL=chunk-6d62d065.437898cd.js.map